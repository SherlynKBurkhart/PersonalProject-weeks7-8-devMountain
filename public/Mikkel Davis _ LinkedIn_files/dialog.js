(function(c,b){var a=Fiber.extend(function(){var f;var e=['<div id="dialog-wrapper-contacts" class="dialog-v2 contacts-dialog">','  <div class="dialog-mask dialog-task-modal">','    <div class="dialog-window">','      <div class="dialog-title">','        <span class="dialog-close"></span>','        <h3 class="title"></h3>',"      </div>",'      <div class="dialog-body" style="">','        <div class="dialog-message" style="display: none;"></div>','        <div class="dialog-content">',"        </div>",'        <div class="dialog-actions" style="display: none;"></div>',"      </div>","    </div>","  </div>","</div>"].join("");var d={template:e,isModal:true,title:""};return{init:function(h,g){this.$el=h;this.options=c.extend({},d,g);this.$dialog=c(this.options.template);this.$dialog.hide();this.$dialogWindow=this.$dialog.find(".dialog-window");this.$closeButton=this.$dialog.find("span.dialog-close");this.$content=this.$dialog.find(".dialog-content");this.$title=this.$dialog.find(".dialog-title .title");this.$title.text(this.options.title);this.appendContent();this.$closeButton.on("click",c.proxy(this.close,this));this.isAttached=false},appendContent:function(){this.$content.append(this.$el);this.$el.show()},attachToBody:function(){if(this.isAttached){return}this.$dialog.appendTo(c(document.body));this.isAttached=true},open:function(){if(f&&f!==this){f.close()}f=this;if(this.isOpen){return}this.isOpen=false;this.attachToBody();this.$dialog.show();var g=this.$dialogWindow.width();this.$dialogWindow.css({"margin-left":-g/2+2});this.trigger("opened")},close:function(g){f=null;this.$dialog.hide();this.isOpen=false;this.trigger("closed",g)}}});Fiber.mixin(a,Mixins.Event);b.UIControls=c.extend({},b.UIControls,{Dialog:a});if(b.Contacts){b.Contacts.UIControls=b.UIControls}})(jQuery,window);